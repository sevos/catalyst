# Story 1.1: Core Models & Installation

## Status
Draft

## Story
**As a** Framework Developer,
**I want** to create the core `ActiveRecord` models and an installation generator,
**so that** the framework has a persistent foundation for all its operations.

## Acceptance Criteria
1. An `Agent` model is created to store agent configurations (role, goal, etc.).
2. An `Execution` model is created to track a single run of a task by an agent, storing its status (`pending`, `running`, `completed`, `failed`), prompt, and raw result.
3. A Rails generator (`rails g catalyst:install`) is created that copies the necessary migration files for the core models into the host application.

## Tasks / Subtasks

- [ ] Create Agent ActiveRecord model (AC: 1)
  - [ ] Define Agent model attributes (role, goal, backstory, max_iterations)
  - [ ] Add appropriate validations
  - [ ] Create migration for agents table
- [ ] Create Execution ActiveRecord model (AC: 2)
  - [ ] Define Execution model attributes (status, prompt, raw_result, agent_id)
  - [ ] Add status enum with values: pending, running, completed, failed
  - [ ] Create migration for executions table
  - [ ] Add association to Agent model
- [ ] Create Rails installation generator (AC: 3)
  - [ ] Generate catalyst:install generator class
  - [ ] Copy migration files to host application
  - [ ] Add generator documentation

## Dev Notes

**Relevant Source Tree info:**
- This is a Rails engine located at `/lib/catalyst/engine.rb`
- Models should be placed in `/app/models/catalyst/`
- Generators should be placed in `/lib/generators/catalyst/`
- Migrations should be placed in `/db/migrate/`

**Important notes:**
- This is the foundational story for the entire framework
- All subsequent stories depend on these core models
- The generator should follow Rails conventions for engine generators
- Models should be namespaced under Catalyst module

### Testing
- Test file location: `/test/models/catalyst/` for models, `/test/generators/catalyst/` for generators
- Test standards: Follow Rails testing conventions with fixtures
- Testing frameworks: Use Rails minitest framework
- Specific requirements: Test model validations, associations, and generator functionality

## Change Log
| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2025-01-08 | 1.0 | Initial story creation | Sarah (PO) |

## Dev Agent Record

### Agent Model Used
*To be populated by development agent*

### Debug Log References
*To be populated by development agent*

### Completion Notes List
*To be populated by development agent*

### File List
*To be populated by development agent*

## QA Results
*To be populated by QA agent*