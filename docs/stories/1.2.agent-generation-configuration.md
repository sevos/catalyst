# Story 1.2: Agent Generation & Configuration

## Status
Draft

## Story
**As a** Rails Developer,
**I want** to use a generator to create a new Agent class and its prompt template,
**so that** I can quickly start defining a new AI agent.

## Acceptance Criteria
1. Running `rails g catalyst:agent MyAgent` creates a class file at `app/agents/my_agent.rb`.
2. The generator also creates a corresponding prompt template at `app/agents/prompts/my_agent.md.erb`.
3. The generated `MyAgent` class inherits from a base agent class and provides a simple way to configure its `role`, `goal`, and `backstory`.

## Tasks / Subtasks

- [ ] Create base Agent class (AC: 3)
  - [ ] Define Catalyst::Agent base class
  - [ ] Add role, goal, backstory class attributes
  - [ ] Add configuration methods
- [ ] Create catalyst:agent generator (AC: 1)
  - [ ] Generate catalyst:agent generator class
  - [ ] Create agent class template
  - [ ] Place generated file in app/agents/ directory
- [ ] Create prompt template generation (AC: 2)
  - [ ] Create prompt template ERB file
  - [ ] Place template in app/agents/prompts/ directory
  - [ ] Include role, goal, backstory variables in template

## Dev Notes

**Relevant Source Tree info:**
- Base Agent class should be at `/app/models/catalyst/agent.rb`
- Generator should be at `/lib/generators/catalyst/agent/agent_generator.rb`
- Generator templates should be in `/lib/generators/catalyst/agent/templates/`
- Host application agents will be at `app/agents/`

**Important notes:**
- This builds on Story 1.1 (Core Models & Installation)
- The base Agent class provides the foundation for all generated agents
- Generator should follow Rails naming conventions
- Prompt templates should support ERB for dynamic content

### Testing
- Test file location: `/test/generators/catalyst/agent/` for generator tests
- Test standards: Test generator creates correct files in correct locations
- Testing frameworks: Use Rails generator testing utilities
- Specific requirements: Test file creation, content, and naming conventions

## Change Log
| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2025-01-08 | 1.0 | Initial story creation | Sarah (PO) |

## Dev Agent Record

### Agent Model Used
*To be populated by development agent*

### Debug Log References
*To be populated by development agent*

### Completion Notes List
*To be populated by development agent*

### File List
*To be populated by development agent*

## QA Results
*To be populated by QA agent*